const app=document.querySelector("#app"),MEDIA={xsmall:"(max-width: 479px)",small:"(max-width: 783px)",medium:"(max-width: 1001px)",large:"(max-width: 1233px)",xLarge:"(max-width: 1439px)",xxLarge:"(min-width: 1440px)"},pictureSources={xSmall:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_ar_1_1,c_fill,g_auto__c_scale,w_450.jpg",small:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_c_scale,w_480.jpg",medium:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_c_scale,w_784.jpg",large:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_c_scale,w_1002.jpg",xLarge:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_c_scale,w_1234.jpg",xxLarge:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_c_scale,w_1400.jpg",default:"./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_ar_1_1,c_fill,g_auto__c_scale,w_450.jpg"};class Popup{constructor(e,t,n,s){this.parentElement=e,this.resetButtonVisible=n,this.currentSection=s,this.popupWrapper=null,this.popupWindow=null,this.popupCloseButton=null,this.popupContentText=document.createTextNode(t)??"No data",this.resetButton=null,this.createPopup()}createPopup(){this.popupWrapper=document.createElement("div"),this.popupWrapper.classList.add("popup"),this.parentElement.prepend(this.popupWrapper),this.popupWrapper.addEventListener("click",e=>this.onClosePopup(e)),this.popupWindow=document.createElement("div"),this.popupWindow.classList.add("popup__window"),this.popupWrapper.append(this.popupWindow);const e=document.createElement("h1"),t=(e.classList.add("popup__window__title"),e.innerText="Alert!",document.createElement("p")),n=(t.classList.add("popup__window__content"),t.append(this.popupContentText),this.popupCloseButton=document.createElement("button"),this.popupCloseButton.classList.add("popup__window__close"),this.popupCloseButton.setAttribute("aria-label","Close pop-up"),this.popupCloseButton.title="Close pop-up",this.popupWindow.append(e,t,this.popupCloseButton),document.createElement("span")),s=(n.classList.add("popup__window__close__left"),document.createElement("span"));s.classList.add("popup__window__close__right"),this.popupCloseButton.append(n,s),this.resetButtonVisible&&this.createResetButton()}onClosePopup(e){e.target!==this.popupWrapper&&e.target!==this.popupCloseButton&&e.target!==this.popupCloseButton.childNodes[0]&&e.target!==this.popupCloseButton.childNodes[1]||(this.popupWrapper.remove(),this.currentSection.onButtonsDisabled(!1),app.parentElement.style.overflow="visible")}onResetCounter(){this.currentSection.onCounterUpdate(0)}createResetButton(){this.resetButton=document.createElement("button"),this.resetButton.classList.add("popup__window__reset"),this.resetButton.innerText="Reset Counter",this.resetButton.setAttribute("aria-label","Reset counter"),this.resetButton.title="Reset counter",this.popupWindow.append(this.resetButton),this.resetButton.focus(),this.resetButton.addEventListener("click",()=>{this.popupContentText.textContent="The counter has beend reset.",this.onResetCounter(),this.resetButton.remove()})}}class Picture{constructor(e,t){this.parentElement=e,this.pictureSources=t,this.createPicture()}createPicture(){const e=document.createElement("picture"),t=(e.classList.add("container__image"),this.parentElement.append(e),document.createElement("source")),n=(t.media=MEDIA.small,t.srcset=this.pictureSources.small,document.createElement("source")),s=(n.media=MEDIA.small,n.srcset=this.pictureSources.small,document.createElement("source")),o=(s.media=MEDIA.medium,s.srcset=this.pictureSources.medium,document.createElement("source")),a=(o.media=MEDIA.large,o.srcset=this.pictureSources.large,document.createElement("source")),i=(a.media=MEDIA.xLarge,a.srcset=this.pictureSources.xLarge,document.createElement("source")),c=(i.media=MEDIA.xxLarge,i.srcset=this.pictureSources.xxLarge,e.append(n,s,o,a,i),document.createElement("img"));c.classList.add("container__image__picture"),c.src=""+this.pictureSources.default,c.alt="ocean",c.title="Ocean",e.append(c)}}class Section{constructor(e,t){this.counter=localStorage.getItem("Section-"+t)??0,this.name=t,this.parentElement=e,this.resetButtonVisible=!1,this.button=null,this.createSection()}createSection(){const e=document.createElement("section"),t=(e.classList.add("container"),this.parentElement.append(e),new Picture(e,pictureSources),document.createElement("article")),n=(t.classList.add("container__content"),e.append(t),document.createElement("h1")),s=(n.classList.add("container__content__title"),n.innerText="Lorem Ipsum",document.createElement("p"));s.classList.add("container__content__paragraph"),s.innerText="Infinitely scalable, feature-rich and cloud-native data management and protection for modern and legacy infrastructures and SaaS platforms, managed via a single app with no hardware required.",this.button=document.createElement("button"),this.button.classList.add("container__content__button"),this.button.type="button",this.button.innerText="Button",this.button.title="Open pop-up and increase counter",this.button.setAttribute("aria-label","Click me to increase counter"),t.append(n,s,this.button),this.button.addEventListener("click",()=>this.onOpenPopup())}onCounterUpdate(e){if(0!==(this.counter=e))return localStorage.setItem("Section-"+this.name,e);localStorage.removeItem("Section-"+this.name)}onButtonsDisabled(t){const e=document.querySelectorAll(".container button");e.forEach(e=>e.disabled=t)}onOpenPopup(){return++this.counter,localStorage.setItem("Section-"+this.name,this.counter),this.resetButtonVisible=Boolean(5<this.counter),app.parentElement.style.overflow="hidden",this.onButtonsDisabled(!0),new Popup(this.parentElement,`You have clicked ${this.counter} times to related button.`,this.resetButtonVisible,this)}}const firstSection=new Section(app,"first"),secondSection=new Section(app,"second");class _Section{constructor(e){this.counter=0,this.parentElement=e,this.createSection()}createSection(){const e=document.createElement("section"),t=(e.classList.add("container"),this.parentElement.append(e),document.createElement("div")),n=(t.classList.add("container__image"),e.append(t),document.createElement("img")),s=(n.classList.add("container__image__picture"),t.append(n),document.createElement("article")),o=(s.classList.add("container__content"),e.append(s),document.createElement("h1")),a=(o.classList.add("container__content__title"),o.innerText="Lorem Ipsum",s.append(o),document.createElement("p")),i=(a.classList.add("container__content__paragraph"),a.innerText="Infinitely scalable, feature-rich and cloud-native data management and protection for modern and legacy infrastructures and SaaS platforms, managed via a single app with no hardware required.",s.append(a),document.createElement("button"));i.classList.add("container__content__button"),i.type="button",i.innerText="Button",i.setAttribute("aria-label","Click me"),s.append(i),i.onclick=()=>this.onOpenPopup()}onOpenPopup(){return++this.counter,5<=this.counter&&(this.counter=0),console.log("class::",this.counter),new Popup(this.parentElement,`You have clicked ${this.counter} times to related button.`)}}
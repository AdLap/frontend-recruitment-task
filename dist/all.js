const app=document.querySelector("#app");class Popup{constructor(e,t,n,o){this.parentElement=e,this.popupCounterInfo=t,this.resetButtonVisible=n,this.currentSection=o,this.popupWrapper=null,this.popupWindow=null,this.popupCloseButton=null,this.createPopup()}createPopup(){this.popupWrapper=document.createElement("div"),this.popupWrapper.classList.add("popup"),this.parentElement.prepend(this.popupWrapper),this.popupWrapper.addEventListener("click",e=>this.onClosePopup(e)),this.popupWindow=document.createElement("div"),this.popupWindow.classList.add("popup__window"),this.popupWrapper.append(this.popupWindow);const e=document.createElement("h1"),t=(e.classList.add("popup__window__title"),e.innerText="Alert!",document.createElement("p")),n=(t.classList.add("popup__window__content"),t.innerText=this.popupCounterInfo,this.popupCloseButton=document.createElement("div"),this.popupCloseButton.classList.add("popup__window__close"),this.popupWindow.append(e,t,this.popupCloseButton),document.createElement("span")),o=(n.classList.add("popup__window__close__left"),document.createElement("span"));o.classList.add("popup__window__close__right"),this.popupCloseButton.append(n,o),this.resetButtonVisible&&this.createResetButton()}onClosePopup(e){e.target!==this.popupWrapper&&e.target!==this.popupCloseButton||(this.popupWrapper.remove(),app.parentElement.style.overflow="visible")}onResetCounter(){this.currentSection.onCounterUpdate(0)}createResetButton(){const e=document.createElement("button");e.classList.add("reset"),e.innerText="Reset Counter",this.popupWindow.append(e),e.addEventListener("click",()=>{this.popupCounterInfo="The counter has beend reset.",this.onResetCounter()})}}class Section{constructor(e,t){this.counter=localStorage.getItem("Section-"+t)??0,this.name=t,this.parentElement=e,this.resetButtonVisible=!1,this.createSection()}createSection(){const e=document.createElement("section"),t=(e.classList.add("container"),this.parentElement.append(e),document.createElement("div")),n=(t.classList.add("container__image"),e.append(t),document.createElement("img")),o=(n.classList.add("container__image__picture"),n.src="./images/sean-o-KMn4VEeEPR8-unsplash_1_s6zmfh_ar_16_9,c_fill,g_auto__c_scale,w_596.jpg",n.alt="ocean",n.title="Ocean",t.append(n),document.createElement("article")),a=(o.classList.add("container__content"),e.append(o),document.createElement("h1")),p=(a.classList.add("container__content__title"),a.innerText="Lorem Ipsum",o.append(a),document.createElement("p")),s=(p.classList.add("container__content__paragraph"),p.innerText="Infinitely scalable, feature-rich and cloud-native data management and protection for modern and legacy infrastructures and SaaS platforms, managed via a single app with no hardware required.",o.append(p),document.createElement("button"));s.classList.add("container__content__button"),s.type="button",s.innerText="Button",s.setAttribute("aria-label","Click me"),o.append(s),s.addEventListener("click",()=>this.onOpenPopup())}onCounterUpdate(e){0===(this.counter=e)?localStorage.removeItem("Section-"+this.name):localStorage.setItem("Section-"+this.name,e)}onOpenPopup(){return++this.counter,localStorage.setItem("Section-"+this.name,this.counter),2<this.counter?this.resetButtonVisible=!0:this.resetButtonVisible=!1,app.parentElement.style.overflow="hidden",new Popup(this.parentElement,`You have clicked ${this.counter} times to related button.`,this.resetButtonVisible,this)}}const firstSection=new Section(app,"first"),secondSection=new Section(app,"second");class _Section{constructor(e){this.counter=0,this.parentElement=e,this.createSection()}createSection(){const e=document.createElement("section"),t=(e.classList.add("container"),this.parentElement.append(e),document.createElement("div")),n=(t.classList.add("container__image"),e.append(t),document.createElement("img")),o=(n.classList.add("container__image__picture"),t.append(n),document.createElement("article")),a=(o.classList.add("container__content"),e.append(o),document.createElement("h1")),p=(a.classList.add("container__content__title"),a.innerText="Lorem Ipsum",o.append(a),document.createElement("p")),s=(p.classList.add("container__content__paragraph"),p.innerText="Infinitely scalable, feature-rich and cloud-native data management and protection for modern and legacy infrastructures and SaaS platforms, managed via a single app with no hardware required.",o.append(p),document.createElement("button"));s.classList.add("container__content__button"),s.type="button",s.innerText="Button",s.setAttribute("aria-label","Click me"),o.append(s),s.onclick=()=>this.onOpenPopup()}onOpenPopup(){return++this.counter,5<=this.counter&&(this.counter=0),console.log("class::",this.counter),new Popup(this.parentElement,`You have clicked ${this.counter} times to related button.`)}}